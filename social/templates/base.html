<!DOCTYPE html>
{% load static %}
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Social Sphere{% endblock %}</title>
  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Inter font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap"
    rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
  </style>
</head>
<body class="flex flex-col min-h-screen bg-zinc-900 text-zinc-100">

  <!-- Sidebar -->
  {% include 'includes/sidebar.html' %}

  <!-- Main content -->
  <main class="flex-1 ml-64 py-10 px-6 max-w-full">
    {% block content %}{% endblock %}
  </main>

  <!-- Search Drawer Overlay -->
  <div id="searchOverlay"
       class="fixed inset-0 bg-black bg-opacity-50 hidden z-40"></div>

  <!-- Search Drawer -->
  <aside id="searchDrawer"
         class="fixed left-0 top-0 h-full w-96 bg-zinc-800 p-6
                transform -translate-x-full transition-transform z-50 overflow-y-auto">
    <!-- Header -->
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl italic font-semibold text-purple-400">Search</h2>
      <button id="closeSearch" class="text-zinc-400 hover:text-white transition">✕</button>
    </div>

    <!-- Search Form -->
    <form id="searchForm" class="relative mb-4">
      <input
        type="text"
        name="q"
        id="searchInput"
        placeholder="Search users..."
        class="w-full pl-4 pr-10 py-2 rounded-lg bg-zinc-700 text-zinc-100
               placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 transition"
      />
      <button type="submit"
              class="absolute right-3 top-1/2 transform -translate-y-1/2
                     text-purple-300 hover:text-purple-400 transition">
        🔍
      </button>
    </form>

    <!-- Recent Searches -->
    <div id="recentContainer">
      <h3 class="text-lg font-semibold text-zinc-200 mb-2">Recent</h3>
      <ul id="recentList" class="space-y-2 mb-4">
        <li class="text-zinc-500">No recent searches.</li>
      </ul>
    </div>

    <!-- AJAX Results -->
    <div id="searchResults"
         class="space-y-4 overflow-y-auto hidden"
         style="max-height: calc(100% - 7rem);">
    </div>
  </aside>

  <!-- Footer -->
  <footer class="bg-zinc-800 text-zinc-400 py-4 text-sm">
    <div class="px-6 text-center">
      © 2025 Social Sphere. All rights reserved.
    </div>
  </footer>

  <!-- Search script -->
  <script src="{% static 'js/search.js' %}"></script>
{% block scripts %}{% endblock %}
</body>
</html>
